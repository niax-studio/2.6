<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy New Year</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

<style>
    body {
        margin: 0;
        min-height: 100vh;
        background: radial-gradient(circle at top, #1a1a2e, #000);
        font-family: 'Poppins', sans-serif;
        color: #fff;
        overflow-y: auto; /* PAGE SCROLLABLE */
    }

    canvas {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 0;
    }

    .container {
        text-align: center;
        padding-top: 120px;
        padding-bottom: 200px;
        position: relative;
        z-index: 1;
        animation: fadeIn 2s ease-in-out;
    }

    h1 {
        font-family: 'Great Vibes', cursive;
        font-size: 4rem;
        color: #ffd700;
        animation: glow 2s infinite alternate;
        margin-bottom: 30px;
    }

    .open-btn {
        padding: 14px 34px;
        font-size: 1rem;
        border: none;
        border-radius: 30px;
        background: linear-gradient(135deg, #ffcc70, #ff8c42);
        color: #000;
        cursor: pointer;
        box-shadow: 0 0 15px rgba(255, 200, 100, 0.6);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .open-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 0 25px rgba(255, 200, 100, 1);
    }

    /* Vintage paper */
    .paper {
        margin: 60px auto;
        width: 85%;
        max-width: 700px;
        background: #f5e6c8;
        color: #3a2f1b;
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 25px 50px rgba(0,0,0,0.6);
        font-family: 'Playfair Display', serif;
        transform: scale(0);
        transition: transform 0.9s ease;
        z-index: 2;
        background-image:
            repeating-linear-gradient(
                0deg,
                rgba(0,0,0,0.03),
                rgba(0,0,0,0.03) 1px,
                transparent 1px,
                transparent 26px
            );
        max-height: 75vh;
        overflow-y: auto; /* PAPER SCROLLABLE */
    }

    .paper.show {
        transform: scale(1);
    }

    .paper h2 {
        font-family: 'Great Vibes', cursive;
        font-size: 2.6rem;
        text-align: center;
        margin-bottom: 20px;
    }

    .paper p {
        font-size: 1.1rem;
        line-height: 1.9;
        text-align: justify;
        white-space: pre-wrap;
    }

    .close {
        margin-top: 25px;
        display: block;
        text-align: center;
        cursor: pointer;
        font-weight: bold;
        color: #6b4f1d;
    }

    @keyframes glow {
        from { text-shadow: 0 0 10px #ffd700; }
        to { text-shadow: 0 0 35px #ffeb3b; }
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>
</head>
<body>

<canvas id="fireworks"></canvas>

<div class="container">
    <h1>Happy New Year ✨</h1>
    <button class="open-btn" onclick="openPaper()">Open Message</button>
</div>

<div class="paper" id="paper">
    <h2>Dear Malu</h2>
    <p id="typeText"></p>
    <span class="close" onclick="closePaper()">Close ✦</span>
</div>

<!-- Background music -->
<audio id="music" loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_9c0b9bfc3a.mp3" type="audio/mpeg">
</audio>

<script>
    /* Message text */
    const message = `Thank you for being such a beautiful part of my life. Your friendship means the world to me, and I feel so lucky to have someone as caring, strong, and genuine as you by my side. I pray this year brings you endless happiness, success in everything you do, and peace in your heart. May all your dreams turn into reality, and may every moment be filled with love and laughter.

I hope this year opens doors to new opportunities, growth, and moments that make you proud of yourself.
May you move forward with confidence, peace, and clarity, knowing how capable and valued you truly are.
I’m grateful for our friendship and wish you a year filled with meaningful moments and quiet happiness.
From Niax`;

    let index = 0;
    let typing;

    function typeWriter() {
        if (index < message.length) {
            document.getElementById("typeText").textContent += message.charAt(index);
            index++;
            typing = setTimeout(typeWriter, 40);
        }
    }

    function openPaper() {
        document.getElementById('paper').classList.add('show');
        document.getElementById('music').play();
        index = 0;
        document.getElementById("typeText").textContent = "";
        clearTimeout(typing);
        typeWriter();
        document.getElementById('paper').scrollIntoView({ behavior: "smooth" });
    }

    function closePaper() {
        document.getElementById('paper').classList.remove('show');
    }

    /* Fireworks */
    const canvas = document.getElementById("fireworks");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    function random(min, max) {
        return Math.random() * (max - min) + min;
    }

    function firework() {
        const x = random(0, canvas.width);
        const y = random(0, canvas.height / 2);
        for (let i = 0; i < 60; i++) {
            ctx.beginPath();
            ctx.arc(x, y, random(1, 3), 0, Math.PI * 2);
            ctx.fillStyle = `hsl(${random(0, 360)}, 100%, 70%)`;
            ctx.fill();
        }
    }

    setInterval(() => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        firework();
    }, 900);

    window.onresize = () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    };
</script>

</body>
</html>
